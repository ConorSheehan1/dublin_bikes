<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hello</title>

    <link href='https://fonts.googleapis.com/css?family=Hind' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/static/css/main.css" />
    <link rel="stylesheet" href="/static/normalise.css" />
	
    <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAX1jmcW1cZiqkj3sK8ICOzqkTCl7lp7yg&callback=initialise" type="text/javascript"></script>
    <script src="/static/superagent/superagent.js"></script>
    <script src="/static/js/handlebars/dist/handlebars.runtime.js"></script>
    <script src="/static/js/templates.js"></script>
    <script src="/static/js/helpers.js"></script>
    <script src="/static/js/Timer.js"></script>
    <script src="/static/js/CacheModule.js"></script>
    <script src="/static/js/BikesModule.js"></script>
    <script src="/static/js/PageModule.js"></script>
    <script src="/static/js/MapsModule.js"></script>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
	
</head>

<body>

    <script type="text/javascript">
        // initialise the application
        var initialise = function () {
            MapsModule.init(document.getElementById("map"));
        }
        BikesModule.getStationHistoricalInformation(101, 0);

        history.pushState(null, null, window.location.pathname);
    </script>
	
    <header>
    	<div>
        	<h1>Dublin Bikes</h1>
        </div>
            <img id="logo" src="../static/images/logo-cropped.png">
    </header>

    <div id="wrapper" class="m-wrapper">
        <div id="map" class="mapping">
        </div>
    </div>
	
    <div id="leftHeader">
        <h2>Station number: {{Data.number}}</h2>
        <h3>Live data</h3>
        <ul>
            <li> Total</li>
            <li id=statVariable> {{Data.bike_stands}} </li>
        </ul>

        <ul>
            <li> Bikes available</li>
            <li id=statVariable> {{Data.available_bikes}}</li>

        </ul>

        <ul>
            <li> Stands available</li>
            <li id=statVariable>{{ Data.available_bike_stands}}</li>
        </ul>

        <div id="piechart">
		</div>
		<div id="piechart" style="width: 900px; height: 500px;"></div>
    </div>
	<script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Stat', 'By unit'],
          ['Available bike Stands',     {{Data.available_bike_stands}}],
          ['Available bikes',      {{Data.available_bikes}}]
        ]);

        var options = {
          title: 'Dublin bike stats'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
    </script>

    <div id="rightHeader">
        <p>{{Address}}</p>
        <h3>Historical data</h3>

        <div id=graph>Graph</div>
    </div>
</body>

</html>